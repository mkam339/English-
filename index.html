<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>منصة الإنجليزي — مشاريع الطلاب • واجبات • تنبيهات</title>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
  <style>
    :root{ --ink:#0f172a; --muted:#64748b; --line:#e5e7eb; --bg:#f8fafc; --primary:#0ea5e9; --emerald:#10b981; --amber:#f59e0b; }
    *{box-sizing:border-box}
    body{margin:0;font-family:'Tajawal',system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial;background:var(--bg);color:var(--ink)}

    header{position:sticky;top:0;z-index:50;background:#ffffffcc;backdrop-filter:blur(8px);border-bottom:1px solid var(--line)}
    .bar{max-width:1150px;margin:auto;display:flex;align-items:center;gap:12px;padding:12px 16px}
    .brand{display:grid;place-items:center;width:42px;height:42px;border-radius:12px;background:var(--primary);color:#fff;font-weight:800}

    .tabs{max-width:1150px;margin:16px auto;padding:0 16px}
    .tab-heads{display:flex;gap:8px;flex-wrap:wrap}
    .tab-heads label{cursor:pointer;padding:10px 14px;border:1px solid var(--line);border-radius:12px;background:#fff;font-weight:600}
    input[name=tabs]{display:none}
    #tab-feed:checked ~ .tab-heads label[for=tab-feed],
    #tab-homework:checked ~ .tab-heads label[for=tab-homework],
    #tab-updates:checked ~ .tab-heads label[for=tab-updates]{background:#0f172a;color:#fff;border-color:#0f172a}

    .tab-panels{margin-top:12px}
    .panel{display:none;border:1px solid var(--line);border-radius:16px;background:#fff;overflow:hidden}
    #tab-feed:checked ~ .tab-panels #panel-feed,
    #tab-homework:checked ~ .tab-panels #panel-homework,
    #tab-updates:checked ~ .tab-panels #panel-updates{display:block}

    .feed{display:flex;flex-direction:column;gap:16px;padding:16px}
    .post{border:1px solid var(--line);border-radius:16px;overflow:hidden;background:#fff;box-shadow:0 8px 24px rgba(2,6,23,.06)}
    .post h2{margin:14px 16px 6px 16px;font:800 20px 'Tajawal',system-ui}
    .meta{margin:-2px 16px 8px 16px;color:#64748b;font-size:13px}
    .post p{margin:0 16px 16px 16px;color:#334155;line-height:1.7}

    .post img{
      display:block;
      width:100%;
      height:auto;
      max-height:600px;
      border-radius:8px;
    }

    /* شبكة وسائط لكل منشور (حتى 5 صور/فيديوهات) */
    .media-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:10px;margin:10px 16px 16px}
    .media-grid img,.media-grid video{width:100%;height:auto;display:block;border-radius:8px}

    .list{padding:16px}
    .item{border:1px solid var(--line);border-radius:12px;padding:12px 14px;margin-bottom:10px}
    .due{font-size:13px;color:#64748b}

    .badge{display:inline-block;padding:2px 8px;border-radius:999px;font-size:12px}
    .badge-green{background:#ecfdf5;color:#065f46;border:1px solid #a7f3d0}
    .badge-amber{background:#fffbeb;color:#92400e;border:1px solid #fde68a}

    /* ===== شريط الإدارة (ثابت كما طلبت) ===== */
    #adminBar{
      display:none;           /* يُظهره app.js لو المستخدم أدمن */
      position:fixed;         /* كان sticky */
      top:10px;
      right:10px;
      background:#0f172a;
      color:#fff;
      padding:8px 12px;
      z-index:3000;
      border-radius:12px;
      gap:8px;
    }
    #adminBar button{margin-inline-start:8px}

    /* ===== نافذة تسجيل الدخول (كما هي) ===== */
    #loginModal{
      position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
      background:rgba(2,6,23,.55); backdrop-filter: blur(10px); z-index:2000; padding:16px;
    }
    .login-card{
      width:min(92vw,420px);
      background:linear-gradient(180deg, rgba(255,255,255,.9), rgba(255,255,255,.85));
      border:1px solid rgba(15,23,42,.08);
      border-radius:18px;
      box-shadow: 0 20px 60px rgba(2,6,23,.20);
      padding:22px 20px;
      position:relative;
      overflow:hidden;
    }
    .login-brand{display:flex;align-items:center;gap:10px;margin-bottom:14px}
    .login-logo{width:44px;height:44px;border-radius:12px;background:var(--primary);color:#fff;display:grid;place-items:center;font-weight:800}
    .login-title{margin:0;font:800 20px 'Tajawal',system-ui;color:#0f172a}
    .login-sub{margin:2px 0 0 0;color:#64748b;font-size:13px}
    .field{margin:10px 0}
    .label{display:block;margin:0 0 6px 0;font-weight:700;font-size:13px;color:#0f172a}
    .control{display:flex;align-items:center;gap:8px;border:1px solid var(--line);background:#fff;border-radius:12px;padding:10px 12px;transition: box-shadow .15s ease, border-color .15s ease;}
    .control:focus-within{ border-color:#94a3b8; box-shadow:0 0 0 4px rgba(14,165,233,.15) }
    .control input{width:100%; border:none; outline:none; background:transparent; font-family:inherit; font-size:15px; color:#0f172a;}
    .toggle-pass{cursor:pointer;font-size:12px;color:#0ea5e9;border:none;background:transparent}
    .login-actions{display:flex;gap:10px;align-items:center;margin-top:12px}
    .btn{border:none; cursor:pointer; border-radius:12px; padding:10px 14px; font-weight:700;}
    .btn-primary{ background:#0f172a; color:#fff }
    .btn-ghost{ background:#f1f5f9; color:#0f172a }
    .btn:hover{ filter:brightness(.97) }
    .helper{font-size:12px;color:#64748b;margin-top:8px}
    .close-x{position:absolute; inset-inline-end:10px; top:10px; width:36px; height:36px; border-radius:10px; display:grid; place-items:center; cursor:pointer; border:1px solid var(--line); background:#fff;}
    .close-x:hover{ background:#f8fafc }
    .error{margin-top:8px; font-size:13px; color:#b91c1c; background:#fee2e2; border:1px solid #fecaca; border-radius:10px; padding:8px 10px; display:none}
  </style>
</head>
<body>
  <header>
    <div class="bar">
      <div class="brand">EN</div>
      <div>
        <h1>منصة الإنجليزي — مشاريع الطلاب</h1>
        <p style="color:var(--muted);font-size:14px">منشورات (نص + صور/فيديوهات)، واجبات يومية، تحديثات واختبارات</p>
      </div>
    </div>
  </header>

  <section class="tabs">
    <input type="radio" id="tab-feed" name="tabs" checked>
    <input type="radio" id="tab-homework" name="tabs">
    <input type="radio" id="tab-updates" name="tabs">

    <div class="tab-heads">
      <label for="tab-feed">المشاركات</label>
      <label for="tab-homework">الواجبات اليومية</label>
      <label for="tab-updates">تحديثات واختبارات</label>
    </div>

    <div class="tab-panels">
      <!-- ===================== المشاركات ===================== -->
      <section id="panel-feed" class="panel">
        <div class="feed" id="projects">
          <!-- منشورات Firestore (تُحقن هنا) -->
          <div id="dynamicPosts"></div>

          <!-- محتوى يدوي كما هو -->
          <div class="post">
            <h2>فيديو يوثق مشاركات الطلاب في مادة اللغة الانجليزية</h2>
            <p class="meta"> 10/09/2025</p>
            <video src="https://youtube.com/shorts/VoAogYe8WFg" controls></video>
            <p>مشاركات الطلاب في مادة اللغة الانجليزية</p>
          </div>

          <div class="post">
            <h2>قام طلاب الصف الاول الثانوي بعمل لوحات في اللغة الانجليزية</h2>
            <p class="meta"> 09/09/2025</p>
            <p>شاكرين جهود المشاركين في اللوح</p>
            <div class="media-grid">
              <img src="https://i.ibb.co/9kKWw5qf/Whats-App-Image-2025-09-10-at-12-37-27-1ef9ba8d.jpg" alt="صورة 1">
              <img src="https://i.ibb.co/1Y3qBWzr/Whats-App-Image-2025-09-10-at-12-37-35-f023d801.jpg" alt="صورة 2">
            </div>
          </div>

          <div class="post">
            <h2>قام طلاب اول ثانوي بعمل ابحاث في مادة اللغة الانجليزية</h2>
            <p class="meta">  09/09/2025</p>
            <p></p>
            <div class="media-grid">
              <img src="https://fv5-5.files.fm/thumb_show.php?i=ujwa6d4jqe&view&v=1&PHPSESSID=8601ab731f1c525f298f14bcbbec8b3ee9070799" alt="صورة 1">
              <img src="https://fv5-5.files.fm/thumb_show.php?i=xvscapurwf&view&v=1&PHPSESSID=8601ab731f1c525f298f14bcbbec8b3ee9070799" alt="صورة 2">
              <img src="https://fv5-5.files.fm/thumb_show.php?i=kaxkqa6e87&view&v=1&PHPSESSID=8601ab731f1c525f298f14bcbbec8b3ee9070799" alt="صورة 3">
              <img src="https://fv5-5.files.fm/thumb_show.php?i=tnve297fpf&view&v=1&PHPSESSID=8601ab731f1c525f298f14bcbbec8b3ee9070799" alt="صورة 4">
              <img src="https://fv5-5.files.fm/thumb_show.php?i=qmvu6eazxt&view&v=1&PHPSESSID=8601ab731f1c525f298f14bcbbec8b3ee9070799" alt="صورة 5">
              <img src="https://fv5-5.files.fm/thumb_show.php?i=3txssc5vg6&view&v=1&PHPSESSID=8601ab731f1c525f298f14bcbbec8b3ee9070799" alt="صورة 6">
            </div>
          </div>

          <div class="post">
            <h2>قام طلاب الصف الاول الثانوي بحل اوراق العمل</h2>
            <p class="meta"> 09/09/2025</p>
            <p></p>
            <div class="media-grid">
              <img src="https://fv5-5.files.fm/thumb_show.php?i=ahuxwx4u6h&view&v=1&PHPSESSID=8601ab731f1c525f298f14bcbbec8b3ee9070799" alt="صورة 1">
              <img src="https://fv5-5.files.fm/thumb_show.php?i=hesrvsguz3&view&v=1&PHPSESSID=8601ab731f1c525f298f14bcbbec8b3ee9070799" alt="صورة 2">
              <img src="https://fv5-5.files.fm/thumb_show.php?i=73muf72x8c&view&v=1&PHPSESSID=8601ab731f1c525f298f14bcbbec8b3ee9070799" alt="صورة 3">
            </div>
          </div>

          <div class="post">
            <h2>استخدام استراتيجيات التعلم النشط في مادة اللغة الانجليزية</h2>
            <p class="meta">  09/09/2025</p>
            <p></p>
            <div class="media-grid">
              <img src="https://fv5-5.files.fm/thumb_show.php?i=eez8paf7ed&view&v=1&PHPSESSID=8601ab731f1c525f298f14bcbbec8b3ee9070799" alt="صورة 1">
              <img src="https://fv5-5.files.fm/thumb_show.php?i=b7qv2k7nvk&view&v=1&PHPSESSID=8601ab731f1c525f298f14bcbbec8b3ee9070799" alt="صورة 2">
              <img src="https://fv5-5.files.fm/thumb_show.php?i=jgzvrr9n37&view&v=1&PHPSESSID=8601ab731f1c525f298f14bcbbec8b3ee9070799" alt="صورة 3">
              <img src="https://fv5-5.files.fm/thumb_show.php?i=322umjn5xs&view&v=1&PHPSESSID=8601ab731f1c525f298f14bcbbec8b3ee9070799" alt="صورة 4">
            </div>
          </div>

          <div class="post">
            <h2>موقع مدعم بالذكاء الاصطناعي</h2>
            <p class="meta">طالب: محمد مجدي  — 06/09/2025</p>
            <img src="https://images.unsplash.com/photo-1485827404703-89b55fcc595e?q=80&w=1200&auto=format&fit=crop" alt="بودكاست الهوايات">
            <p>بحث كامل في موقع ( https://mkam339.github.io/present-simple-researsh )Present Simple</p>
          </div>
        </div>
      </section>

      <!-- ===================== الواجبات ===================== -->
      <section id="panel-homework" class="panel">
        <div class="list">
          <div id="homeworksDynamic"></div>
          <div class="item">
            <div><span class="badge badge-amber">H,W</span>p.231</div>
            <div class="due">نُشر: 09/09/2025</div>
          </div>
          <div class="post" style="margin-top:16px;">
            <h2></h2>
            <p class="meta">إدارة المادة — 09/09/2025</p>
            <div class="media-grid">
              <h2>يرجى حل الواجبات دون اهمال</h2>
            </div>
          </div>
        </div>
      </section>

      <!-- ===================== تحديثات واختبارات ===================== -->
      <section id="panel-updates" class="panel">
        <div class="list" id="updatesList">
          <div class="item">
            <div><span class="badge badge-amber">امتحان</span> English Test on Thursday on Unit 1</div>
            <div class="due">نُشر: 09/09/2025</div>
          </div>
        </div>

        <div id="examDynamic" class="list"></div>

        <div class="post" style="margin:16px">
          <h2>مراجعة بصرية قبل الامتحان</h2>
          <p class="meta">إدارة المادة — 09/09/2025</p>
          <p>هذه مجموعة صور مساعدة للطلاب قبل الامتحان.</p>
          <div class="media-grid">
            <img src="https://fv5-4.files.fm/thumb_show.php?i=avhdh5h4ux&view&v=1&PHPSESSID=8601ab731f1c525f298f14bcbbec8b3ee9070799" alt="صورة 1">
            <img src="https://i.ibb.co/pv5Y5jQm/Screenshot-2025-09-10-135403.png" alt="صورة 2">
          </div>
        </div>
      </section>
    </div>
  </section>

  <!-- ====== شريط الإدارة (العناوين كما طلبت) ====== -->
  <div id="adminBar">
    <span id="adminEmail"></span>
    <button id="logoutBtn">تسجيل خروج</button>
    <button id="openPostForm">المنشورات</button>
    <button id="openHWForm">الواجبات</button>
    <button id="openExamForm">الاختبارات</button>
  </div>

  <!-- نافذة تسجيل الدخول -->
  <div id="loginModal">
    <div class="login-card" role="dialog" aria-modal="true" aria-labelledby="loginTitle">
      <button class="close-x" type="button" id="closeLogin"
              onclick="document.getElementById('loginModal').style.display='none'">✕</button>

      <div class="login-brand">
        <div class="login-logo">EN</div>
        <div>
          <h3 id="loginTitle" class="login-title">تسجيل دخول المشرف</h3>
          <p class="login-sub">يستطيع الزوار الإغلاق للمشاهدة بدون تسجيل</p>
        </div>
      </div>

      <form id="loginForm" novalidate>
        <div class="field">
          <label class="label" for="email">البريد الإلكتروني</label>
          <div class="control">
            <input id="email" type="email" placeholder="name@example.com" required>
          </div>
        </div>

        <div class="field">
          <label class="label" for="password">كلمة المرور</label>
          <div class="control">
            <input id="password" type="password" placeholder="••••••••" required>
            <button class="toggle-pass" type="button" id="togglePass">عرض</button>
          </div>
        </div>

        <div class="error" id="loginError">حدث خطأ أثناء تسجيل الدخول</div>

        <div class="login-actions">
          <button class="btn btn-primary" type="submit">دخول</button>
          <button class="btn btn-ghost" type="button"
                  onclick="document.getElementById('loginModal').style.display='none'">الدخول كزائر</button>
        </div>
        <p class="helper">* لن يحتاج الطلاب إلى حساب لعرض المحتوى.</p>
      </form>
    </div>
  </div>

  <!-- ربط سكربت التطبيق -->
  <script type="module" src="app.js"></script>

  <!-- وظائف صغيرة لواجهة الدخول (كما هي) -->
  <script>
    (function(){
      const btn = document.getElementById('togglePass');
      const input = document.getElementById('password');
      if(btn && input){
        btn.addEventListener('click', ()=>{
          const isPwd = input.type === 'password';
          input.type = isPwd ? 'text' : 'password';
          btn.textContent = isPwd ? 'إخفاء' : 'عرض';
        });
      }
    })();
    // document.getElementById('loginError').style.display = 'block';
  </script>

  <!-- حاضنة النماذج (أضفناها لضمان عمل النوافذ الإدارية) -->
  <div id="formsRoot"></div>
</body>
</html>
